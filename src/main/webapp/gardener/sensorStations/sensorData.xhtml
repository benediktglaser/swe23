<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>My Highcharts Example</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/stock.js"></script>
</head>
<body>
<h1>My Highcharts Example</h1>
<div id="chart-container"></div>

<script type="text/javascript">
    // Define the chart options
    fetch('/chart')
        .then(response => response.json())
        .then(jsonData => {
            const data2 = jsonData.map(point => {
                const [year, month, day, hour, minute] = point[0];
                const timestamp = Date.UTC(year, month - 1, day, hour, minute);
                return [timestamp, point[1]];
            });

            Highcharts.stockChart('chart-container', {
                chart: {
                    type: 'bubble',
                },
                title: {
                    text: 'My Chart'
                },
                xAxis: {
                    type: 'datetime',
                    labels: {
                        formatter: function() {
                            // Format the date label text as "MM/DD/YYYY"
                            return Highcharts.dateFormat('%m/%d/%Y', this.value);
                        }
                    },
                },
                rangeSelector: {
                    buttons: [{
                        type: 'day',
                        count: 1,
                        text: '1d'
                    }, {
                        type: 'week',
                        count: 1,
                        text: '1w'
                    }, {
                        type: 'month',
                        count: 1,
                        text: '1m'
                    }, {
                        type: 'year',
                        count: 1,
                        text: '1y'
                    }, {
                        type: 'all',
                        text: 'All'
                    }],
                },
                series: [{

                    name: 'My Series',
                    data: data2
                }]
            });
        });
    console.log("Hello, world!");
</script>
</body>
</html>